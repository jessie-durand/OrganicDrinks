{% extends 'base.html.twig' %}

{% block title %}Hello Admin !{% endblock %}

{% block body %}
 {% if is_granted("ROLE_ADMIN") %}
{% include '/admin/adminBase.html.twig' %}

<div class="container-tableau">
    <table>
        <thead>
            <tr>
                <th class="datas-form-big">Ingrédient</th>
                <th class="datas-form-small">Description</th>
                <th class="datas-form-small">Boissons</th>
                <th class="datas-form-small">Bienfaits</th>
            </tr>
        </thead>
            {% for ingredient in ingredients %}
                <tr>
                    <td class="datas-form-big">{{ ingredient.name|title }}</td>
                    <td class="datas-form-big">{{ ingredient.description|slice (0, 100) }} ...</td>
                    <td class="datas-form-big">
                    {% for drink in ingredient.drinks %}
                        {{ drink.name }}
                    {% endfor %}
                    </td>
                    <td class="datas-form-big">
                    {% for benefit in ingredient.benefits %}
                        {{ benefit.name }}
                    {% endfor %}
                    </td>
                     <td class="datas-form-small">
                        <a href="{{ path('ingredient_show', {'id': ingredient.id}) }}"><i class="fas fa-eye"></i></a>
                    </td>
                    <td class="datas-form-small">
                        <a href="{{ path('ingredient_edit', {'id': ingredient.id}) }}"><i class="fas fa-pen"></i></a>
                    </td>
                    <td class="datas-form-small">
                        {{ include('/admin/ingredient/_delete_form.html.twig') }}</span>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="3">Aucun élément dans la base de données.</td>
                </tr>
            {% endfor %}
    </table>
    </div>

    <center>
        <a class="btn-dmin" href="{{ path('ingredient_new') }}">Ajouter un ingrédient</a>
    </center>

        <div class="btn">
            <center>
            <a class="btn-admin" href="{{ path('admin') }}">Retour</a>
            </center>
        </div>
</div>
{% else %}
<p> Vous devez être administrateur pour voir ce contenu ! </p>
{% endif %}
{% endblock %}
